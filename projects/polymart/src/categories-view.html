<dom-module id="categories-view">
  <style>
    categories-view {
      display: block;
      text-align: left;
    }
    categories-view [grid-cell] {
      background-color: white;
      text-decoration: none;
      color: inherit;
      font-size: 0.9em;
      text-align: center;
      box-shadow: 0 1px 2px 1px rgba(0,0,0,0.25);
    }
    categories-view [grid-cell] > img {
      width: 80px;
      height: 80px;
      margin-bottom: 8px;
    }
  </style>
  <template>
    <a grid-cell vertical center layout href="{{href}}">
      <img width="144" height="144" src="{{thumbnail}}">
      <span>{{name}}</span>
    </a>
  </template>
  <script>
    document.registerElement('categories-view', {
      prototype: {
        __proto__: HTMLElement.prototype,
        createdCallback: function() {
          this._thumbnails = {
            'Auto & Tires': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-2965/k2-_65485dae-4250-457d-b629-20868cf04b7b.v1.jpg-70445cf97afad16b884881dfe42732b7861c77ad-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Baby': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-61a4/k2-_6a85a582-7832-4169-bde4-b96827458748.v1.jpg-77ec1920d9c2e9a80851d0286fe96da834095d18-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Beauty': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-bb4c/k2-_eee0bac8-88b4-4a0b-a024-35520d5893d7.v1.jpg-00b2f297c327ad0364d6e0243c2519f787440809-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Books': 'http://i5.walmartimages.com/dfw/4ff9c6c9-be1b/k2-_aa993008-01c5-4237-862a-734802ffbb54.v1.jpg?odnWidth=80&odnHeight=80',
            'Cell Phones': 'http://i5.walmartimages.com/dfw/dce07b8c-6962/k2-_1bed3037-71ac-4380-ac80-0cdd1c29c92e.v1.jpg?odnWidth=120&odnHeight=120',
            'Clothing': 'http://i5.walmartimages.com/dfw/4ff9c6c9-cbad/k2-_32151ba4-60b4-4ab6-acc9-313f43eb5346.v1.jpg?odnWidth=80&odnHeight=80',
            'Electronics': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-4542/k2-_cb52ae11-70a5-4a3c-809f-85912da9d059.v1.jpg-4665a6ca9ab9bbe8f797a762929ddaf99239d8b5-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Food': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-c6b6/k2-_de74cad1-eaf0-4eef-bc65-5f5f91ad6dea.v1.jpg-849aada07d177479dddb4d087cd3d16d3f2e0c75-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Gifts & Registry': 'http://i5.walmartimages.com/dfw/4ff9c6c9-1e61/k2-_86ae1317-d243-44f3-9385-beed0fb5130b.v1.png?odnWidth=144&odnHeight=144',
            'Health': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-4b4d/k2-_37e8b81a-78a2-46c0-bb9d-2948a1a1906a.v1.jpg-0e1ac1e8562ac6d3f53dcfc3964943cb273f45b7-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Home': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-273b/k2-_c973a848-0bd6-4e97-98ef-d2a6040d98c2.v1.jpg-95a32d15792bee6ad4a329a76267cc0c62859cb8-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Home Improvement': 'http://i5.walmartimages.com/dfw/4ff9c6c9-8f55/k2-_0ca58390-575b-4920-b65e-9b655ea31ac3.v1.jpg?odnWidth=144&odnHeight=144',
            'Household Essentials': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-abc2/k2-_a6492e32-b828-4ca0-ae2e-24ef574b5d72.v1.jpg-eb5aa098065c49b2973a62fe97f5cc876c264fa2-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Jewelry': 'http://i5.walmartimages.com/dfw/4ff9c6c9-f2bd/k2-_b2742a54-9653-4d3d-afea-0b1d5a409ee8.v1.jpg?odnWidth=80&odnHeight=80',
            'Movies & TV': 'http://i5.walmartimages.com/dfw/4ff9c6c9-7f35/k2-_b9a5ea5d-67e3-4e7d-b3b7-03bc9f06f54f.v1.jpg?odnWidth=80&odnHeight=80',
            'Music': 'http://i5.walmartimages.com/dfw/dce07b8c-93e8/k2-_be009ba5-ca1f-4818-af60-19d8cee972d2.v4.jpg?odnWidth=80&odnHeight=80',
            'Office': 'http://i5.walmartimages.com/dfw/4ff9c6c9-9cc6/k2-_de6cb858-b5e1-45cc-aa52-68bc74369bc0.v1.jpg?odnWidth=144&odnHeight=144',
            'Party & Occasions': 'http://i5.walmartimages.com/dfw/dce07b8c-659d/k2-_bfdb2550-0c41-47e8-8bd9-1f2ada3073b8.v1.jpg?odnWidth=120&odnHeight=120',
            'Patio & Garden': 'http://i5.walmartimages.com/dfw/4ff9c6c9-8806/k2-_8dc34db8-4ced-4953-85cb-11f77e75000d.v1.jpg?odnWidth=80&odnHeight=80',
            'Pets': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-aaeb/k2-_1f1bd387-6269-4e08-b061-40a6f2428fc1.v1.jpg-30c27c4f1f5f029a3b1454d24d13525d762d9535-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Photo Center': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-1249/k2-_099f7735-e39a-403f-8c52-8b06d2094503.v1.jpg-946aaf1f1ef04b606be2ba0dcce174d58550d99a-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Seasonal': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-dfc4/k2-_fc9b05d9-25a2-407d-ad46-7958eaa79c30.v1.png-06d81ce9393e938a6a147e1732549942e559b2a2-webp-144x144.webp?odnWidth=144&odnHeight=144',
            'Sports & Outdoors': 'http://i5.walmartimages.com/dfw/4ff9c6c9-9693/k2-_06678a16-7772-47e1-92f0-0f7962118f58.v1.jpg?odnWidth=80&odnHeight=80',
            'Toys': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-b8df/k2-_9a7eb983-30bb-4162-a05a-82fdad5cd8af.v1.jpg-7a34eb9a396bdbc1f9fcde748d5e0c49057b2873-webp-150x150.webp?odnWidth=144&odnHeight=144',
            'Video Games': 'http://ll-us-i5.wal.co/dfw/4ff9c6c9-a2dc/k2-_bee6da93-d76c-4ddd-8249-337aa1759089.v1.jpg-c8391dc6083388e2f6c3a48672a574d9de3815a0-webp-150x150.webp?odnWidth=144&odnHeight=144'
          };
          this.grid = this.appendChild(document.createElement('grid-layout'));
          this.render();
          Nano.property(this, 'categories');
        },
        set categories(categories) {
          this.render(categories);
        },
        render: function(categories) {
          this.clear();
          if (!categories) {
            categories = [];
            for (var i=0; i<25; i++) {
              categories.push({name: ' '});
            }
          }
          this.grid.appendChild(this.renderCategories(categories));
        },
        clear: function() {
          this.grid.innerText = '';
        },
        renderCategories: function(categories) {
          var frag = document.createDocumentFragment();
          categories.forEach(function(c) {
            var route = encodeURIComponent('{"category":"' + c.name + '", "categoryId":"' +  c.id + '"}');
            var splinter = document.createDocumentFragment();
            var thumbnail = 'mart/proxy.php?' + this._thumbnails[c.name];
            Annotations.stamp('categories-view', splinter).set({
              href: '?' + route,
              name: c.name,
              thumbnail: thumbnail
            });
            frag.appendChild(splinter);
          }, this);
          return frag;
        }
      }
    });
  </script>
</dom-module>